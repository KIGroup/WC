<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<CSP name="wc/partials/competitions.csp" application="/csp/wdsfcontroller/"><![CDATA[
<div class="row-fluid">
	<div class="span2">
	    <div class="control-group">
            <label class="control-label" ng-bind="('Year'|localize)"></label>
            <div class="controls">
				<select class="span12" 
						ng-model="pageStore.competitions.gridCompetitions.filterYear" 
						ng-options="year as year for year in years" 
						ng-change="loadTournamentsForCombobox(pageStore.competitions.gridCompetitions.filterYear)">
		        </select>
		    </div>
		</div>
    </div>
    <div class="span10">
    	<div class="control-group">
            <label class="control-label"><span ng-bind="('Tournament'|localize)"></span>&nbsp;&nbsp;<i ng-bind="'(' + 'Start date • Country • Types • Disciplines' + ')'"></i></label>
            <div class="controls">
		        <select class="span12" 
		        		ng-model="pageStore.competitions.gridCompetitions.filterTrnId" 
		        		ng-options="trn.id as trn.startDate + ' • ' + trn.country + ' • ' + trn.types + ' • ' + trn.disciplines for trn in tournaments" 
		        		ng-change="cmpTable.refresh()">
		        </select>
		    </div>
		</div>    
    </div>
</div>

<div class="row-fluid">
	<div class="row-fluid">
		<div class="span8">
			<label style="padding: 5px 5px 0 5px; font-weight: bold;" ng-bind="'Competitions'|localize"></label>
		</div>
		<div class="span4">
			<!--
			<select class="span6 pull-right" style="margin-bottom: 0; border-bottom:none; border-bottom-left-radius: 0; border-bottom-right-radius: 0;" ng-model="pageStore.competitions.gridCompetitions.filterYear" ng-options="year as year for year in years" ng-change="loadTournamentsForCombobox(pageStore.competitions.gridCompetitions.filterYear)">
            </select>
            <select class="span6 pull-right" style="margin-bottom: 0; border-bottom:none; border-bottom-left-radius: 0; border-bottom-right-radius: 0;" ng-model="pageStore.competitions.gridCompetitions.filterTrnId" ng-options="trn.id as trn.country for trn in tournaments" ng-change="cmpTable.refresh()">
                <option value="">-- {{'Tournament'|localize}} --</option>
            </select>
            -->
        </div>
	</div>
	<div class="row-fluid">
		<stcgrid
	    	grid="pageStore.competitions.gridCompetitions"
		    table-class="table table-bordered table-hover"
		    caption="''"
		    columns="cmpTable.columns"
		    items="cmpTable.items"
		    properties="cmpTable.properties"
		    update-items="cmpTable.loadItems(pageCurr, pageSize, sqlName, isDown, searchSqlName, searchText)"

		    page-curr="cmpTable.pageCurr"
		    page-total="cmpTable.pageTotal"
		    page-size="cmpTable.pageSize"
		    navigator-visible="true"
		    search-hide="false"

		    selectable="true"
		    selected-items="cmpTable.selectedItems"
		    multi-select-mode="cmpTable.multiSelectMode"
			on-select="cmpTable.onSelect(item)"
			on-select-cell="cmpTable.onSelectCell(item, property)"

 			action-column-visible="false"
		    action-column-icon="'fa fa-plus-circle'"
		    action-column-title="'Добавить'|localize"
		    action-column-method="cmpTable.add()"

		    first-row-action-icon="'fa fa-pencil'"
		    first-row-action-title="'Изменить'|localize"
		    first-row-action-method="cmpTable.edit(item)"
	    	
	    	second-row-action-icon="'fa fa-times'"
		    second-row-action-title="'Удалить'|localize"
		    second-row-action-method="cmpTable.remove(item)"
		    	
			forcibly-update="cmpTable.forciblyUpdate"
		/>
	</div>			
</div>


<stcalert data="alert"/>

]]></CSP>
</Export>
